{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Shape = void 0;\n\nvar Enums_1 = require(\"../../../../Enums\");\n\nvar ImageShape_1 = require(\"./ImageShape\");\n\nvar PolygonShape_1 = require(\"./PolygonShape\");\n\nvar CharacterShape_1 = require(\"./CharacterShape\");\n\nvar Utils_1 = require(\"../../../../Utils\");\n\nvar Shape = function () {\n  function Shape() {\n    this.options = {};\n    this.character = new CharacterShape_1.CharacterShape();\n    this.image = new ImageShape_1.ImageShape();\n    this.polygon = new PolygonShape_1.PolygonShape();\n    this.type = Enums_1.ShapeType.circle;\n  }\n\n  Object.defineProperty(Shape.prototype, \"image\", {\n    get: function () {\n      var _a;\n\n      return (_a = this.options[Enums_1.ShapeType.image]) !== null && _a !== void 0 ? _a : this.options[Enums_1.ShapeType.images];\n    },\n    set: function (value) {\n      this.options[Enums_1.ShapeType.image] = value;\n      this.options[Enums_1.ShapeType.images] = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Shape.prototype, \"custom\", {\n    get: function () {\n      return this.options;\n    },\n    set: function (value) {\n      this.options = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Shape.prototype, \"images\", {\n    get: function () {\n      return this.image instanceof Array ? this.image : [this.image];\n    },\n    set: function (value) {\n      this.image = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Shape.prototype, \"stroke\", {\n    get: function () {\n      return [];\n    },\n    set: function (_value) {},\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Shape.prototype, \"character\", {\n    get: function () {\n      var _a;\n\n      return (_a = this.options[Enums_1.ShapeType.character]) !== null && _a !== void 0 ? _a : this.options[Enums_1.ShapeType.char];\n    },\n    set: function (value) {\n      this.options[Enums_1.ShapeType.character] = value;\n      this.options[Enums_1.ShapeType.char] = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Shape.prototype, \"polygon\", {\n    get: function () {\n      var _a;\n\n      return (_a = this.options[Enums_1.ShapeType.polygon]) !== null && _a !== void 0 ? _a : this.options[Enums_1.ShapeType.star];\n    },\n    set: function (value) {\n      this.options[Enums_1.ShapeType.polygon] = value;\n      this.options[Enums_1.ShapeType.star] = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Shape.prototype.load = function (data) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n\n    if (data !== undefined) {\n      var options = (_a = data.options) !== null && _a !== void 0 ? _a : data.custom;\n\n      if (options !== undefined) {\n        for (var shape in options) {\n          var item = options[shape];\n\n          if (item !== undefined) {\n            this.options[shape] = Utils_1.Utils.deepExtend((_b = this.options[shape]) !== null && _b !== void 0 ? _b : {}, item);\n          }\n        }\n      }\n\n      if (data.character !== undefined) {\n        var item = data.character;\n\n        if (item !== undefined) {\n          if (item instanceof Array) {\n            if (this.options[Enums_1.ShapeType.character] instanceof Array) {\n              this.options[Enums_1.ShapeType.character] = Utils_1.Utils.deepExtend((_c = this.options[Enums_1.ShapeType.character]) !== null && _c !== void 0 ? _c : [], item);\n              this.options[Enums_1.ShapeType.char] = Utils_1.Utils.deepExtend((_d = this.options[Enums_1.ShapeType.char]) !== null && _d !== void 0 ? _d : [], item);\n            } else {\n              this.options[Enums_1.ShapeType.character] = Utils_1.Utils.deepExtend([], item);\n              this.options[Enums_1.ShapeType.char] = Utils_1.Utils.deepExtend([], item);\n            }\n          } else {\n            if (this.options[Enums_1.ShapeType.character] instanceof Array) {\n              this.options[Enums_1.ShapeType.character] = Utils_1.Utils.deepExtend({}, item);\n              this.options[Enums_1.ShapeType.char] = Utils_1.Utils.deepExtend({}, item);\n            } else {\n              this.options[Enums_1.ShapeType.character] = Utils_1.Utils.deepExtend((_e = this.options[Enums_1.ShapeType.character]) !== null && _e !== void 0 ? _e : [], item);\n              this.options[Enums_1.ShapeType.char] = Utils_1.Utils.deepExtend((_f = this.options[Enums_1.ShapeType.char]) !== null && _f !== void 0 ? _f : [], item);\n            }\n          }\n        }\n      }\n\n      if (data.polygon !== undefined) {\n        var item = data.polygon;\n\n        if (item !== undefined) {\n          if (item instanceof Array) {\n            if (this.options[Enums_1.ShapeType.polygon] instanceof Array) {\n              this.options[Enums_1.ShapeType.polygon] = Utils_1.Utils.deepExtend((_g = this.options[Enums_1.ShapeType.polygon]) !== null && _g !== void 0 ? _g : [], item);\n\n              if (this.options[Enums_1.ShapeType.star] === undefined) {\n                this.options[Enums_1.ShapeType.star] = Utils_1.Utils.deepExtend((_h = this.options[Enums_1.ShapeType.star]) !== null && _h !== void 0 ? _h : [], item);\n              }\n            } else {\n              this.options[Enums_1.ShapeType.polygon] = Utils_1.Utils.deepExtend([], item);\n\n              if (this.options[Enums_1.ShapeType.star] === undefined) {\n                this.options[Enums_1.ShapeType.star] = Utils_1.Utils.deepExtend([], item);\n              }\n            }\n          } else {\n            if (this.options[Enums_1.ShapeType.polygon] instanceof Array) {\n              this.options[Enums_1.ShapeType.polygon] = Utils_1.Utils.deepExtend({}, item);\n\n              if (this.options[Enums_1.ShapeType.star] === undefined) {\n                this.options[Enums_1.ShapeType.star] = Utils_1.Utils.deepExtend({}, item);\n              }\n            } else {\n              this.options[Enums_1.ShapeType.polygon] = Utils_1.Utils.deepExtend((_j = this.options[Enums_1.ShapeType.polygon]) !== null && _j !== void 0 ? _j : [], item);\n\n              if (this.options[Enums_1.ShapeType.star] === undefined) {\n                this.options[Enums_1.ShapeType.star] = Utils_1.Utils.deepExtend((_k = this.options[Enums_1.ShapeType.star]) !== null && _k !== void 0 ? _k : [], item);\n              }\n            }\n          }\n        }\n      }\n\n      if (data.image !== undefined) {\n        var item = data.image;\n\n        if (item !== undefined) {\n          if (item instanceof Array) {\n            if (this.options[Enums_1.ShapeType.image] instanceof Array) {\n              this.options[Enums_1.ShapeType.image] = Utils_1.Utils.deepExtend((_l = this.options[Enums_1.ShapeType.image]) !== null && _l !== void 0 ? _l : [], item);\n              this.options[Enums_1.ShapeType.images] = Utils_1.Utils.deepExtend((_m = this.options[Enums_1.ShapeType.images]) !== null && _m !== void 0 ? _m : [], item);\n            } else {\n              this.options[Enums_1.ShapeType.image] = Utils_1.Utils.deepExtend([], item);\n              this.options[Enums_1.ShapeType.images] = Utils_1.Utils.deepExtend([], item);\n            }\n          } else {\n            if (this.options[Enums_1.ShapeType.image] instanceof Array) {\n              this.options[Enums_1.ShapeType.image] = Utils_1.Utils.deepExtend({}, item);\n              this.options[Enums_1.ShapeType.images] = Utils_1.Utils.deepExtend({}, item);\n            } else {\n              this.options[Enums_1.ShapeType.image] = Utils_1.Utils.deepExtend((_o = this.options[Enums_1.ShapeType.image]) !== null && _o !== void 0 ? _o : [], item);\n              this.options[Enums_1.ShapeType.images] = Utils_1.Utils.deepExtend((_p = this.options[Enums_1.ShapeType.images]) !== null && _p !== void 0 ? _p : [], item);\n            }\n          }\n        }\n      }\n\n      if (data.type !== undefined) {\n        this.type = data.type;\n      }\n    }\n  };\n\n  return Shape;\n}();\n\nexports.Shape = Shape;","map":null,"metadata":{},"sourceType":"script"}